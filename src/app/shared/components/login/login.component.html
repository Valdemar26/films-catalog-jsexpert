<!--
  user:  test@i.ua
  pass:  11111111
-->

<!-- TODO add 'input-password' directive to show/hide password-->

<ng-container #toastContainer></ng-container>

<div class="exp-login-wrapper">

  <div class="exp-greet-wrapper" *ngIf="authService.user | async">
    <h1>
      Welcome User <span>{{ (authService.user | async)?.email }}</span>.
      <br>You will be redirected to main page in 5 seconds!
    </h1>

    <div class="exp-button-wrapper">
      <button (click)="logout()">Logout</button>
      <button (click)="goToMainPage()">Main page!</button>
    </div>
  </div>

  <!-- this div displays only when user is not-logged-in -->
  <div *ngIf="!(authService.user | async)" class="exp-form-wrapper">

    <h2>Login Form</h2>

    <form class="login" [formGroup]="loginForm">
      <div class="form-control">
        <label for="email">Email</label>
        <input type="text" id="email" placeholder="Enter email" formControlName="email" />
      </div>

      <div class="form-control">
        <label for="password">Password</label>
        <input type="password" id="password" placeholder="Enter password" formControlName="password" />
      </div>

      <div class="exp-buttons-wrapper">
        <!-- user click this button to signup -->
        <button (click)="register()" [disabled]="loginForm.value.email.invalid || loginForm.value.password.invalid">Register</button>

        <!-- user click this button to login -->
        <button (click)="login()" [disabled]="loginForm.value.email.invalid || loginForm.value.password.invalid">Login</button>
      </div>

    </form>

  </div>

</div>



<!--<div class="login-wrapper">-->

<!--  <form class="login" [formGroup]="loginForm">-->
<!--    <section class="title">-->
<!--      <h3 class="welcome">Login</h3>-->
<!--      <h5 class="hint">To get more functionality - you need to login</h5>-->
<!--    </section>-->
<!--    <div class="login-group">-->

<!--      <input-->
<!--        class="username"-->
<!--        type="text"-->
<!--        id="login_username"-->
<!--        placeholder="Username"-->
<!--        name="name"-->
<!--        formControlName="username">-->

<!--      <input-->
<!--        class="password"-->
<!--        type="password"-->
<!--        id="login_password"-->
<!--        placeholder="Password"-->
<!--        name="password"-->
<!--        formControlName="password">-->

<!--      <div class="error active" *ngIf="errorMessage">-->
<!--        {{ errorMessage }}-->
<!--      </div>-->

<!--      <button type="submit" class="btn btn-primary" mat-raised-button color="primary" mat-button (click)="login()">Login</button>-->
<!--      <button class="btn btn-info" mat-raised-button color="primary" mat-button (click)="goToRegistration()">Register</button>-->
<!--    </div>-->
<!--  </form>-->

<!--</div>-->
